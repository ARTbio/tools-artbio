<?xml version="1.0"?>
    <package name="r303" version="3.0.3">
        <repository changeset_revision="4c934f6b342e" name="package_r303" owner="fubar" prior_installation_required="True" toolshed="http://testtoolshed.g2.bx.psu.edu/" />
    </package>
    <package name="lattice" version=" 0.20-29">
        <install version="1.0"> 
            <actions>
                <action type="set_environment_for_install">
                    <repository changeset_revision="4c934f6b342e" name="package_r303" owner="fubar" toolshed="http://testtoolshed.g2.bx.psu.edu/">
                        <package name="r303" version="3.0.3" />
                    </repository>
                </action>
                <action type="make_directory">$INSTALL_DIR</action>
                <action type="shell_command">echo "install.packages(\"lattice",dependencies=T,repos=\"http://cran.us.r-project.org\")" &gt;&gt; $INSTALL_DIR/runme.R</action>
                <action type="shell_command">echo "quit(save=\"no\")" &gt;&gt; $INSTALL_DIR/runme.R</action>                
                <action type="shell_command">echo "PATH=$PATH 1&gt;&amp;2"</action>                
                <action type="shell_command">echo "R_PATH=$R_PATH 1&gt;&amp;2"</action>                
                <action type="shell_command">export PATH=$PATH &amp;&amp; $R_PATH/R CMD BATCH $INSTALL_DIR/runme.R </action>
            </actions>
        </install>
        <readme>Installs R and lattice. Method borrowed from the differentialCounts model plugin.
       </readme>
    </package>
</tool_dependency>
