<tool id="tarfast5" name="tarfast5" version="0.2">
  <description></description>
  <requirements>
        <requirement type="package" version="2.6">pigz</requirement>
  </requirements>
  <stdio>
      <exit_code range="1:" level="fatal" description="Tool exception" />
  </stdio>
  <command detect_errors="exit_code"><![CDATA[
        #for $file in $inputs:
            ln -s $file ${file.element_identifier}.h5 &&
        #end for
            tar -I pigz -cvhf $compressed_output *.h5
  ]]></command>
 <inputs>
    <param name="inputs" type="data" format="h5" label="fast5 sequence files" multiple="true" />
 </inputs>

 <outputs>
    <data format="fast5.tar.gz" name="compressed_output" label="${inputs} tar.gz archive" />
</outputs>

    <tests>
        <test> <!-- 0 -->
            <param name="inputs" value="F1.fast5.h5,F2.fast5.h5" ftype="h5" />
            <output file="archive.tar.gz" name="compressed_output" compare="sim_size" delta="1000" />
        </test>
    </tests>
<help>

**What it does**


**Inputs**


.. class:: warningmark

This tools follows a "map-reduce" procedure: multiple inputs, that can be arranged as a data collection,
are compressed into a single tar.gz archive.
 


**Output**

A fast5.tar.gz archive

</help>

<citations>
    <citation type="doi">10.1093/bioinformatics/btp352</citation>
     <citation type="bibtex">@Book{,
    title = {Lattice: Multivariate Data Visualization with R},
    author = {Deepayan Sarkar},
    publisher = {Springer},
    address = {New York},
    year = {2008},
    note = {ISBN 978-0-387-75968-5},
    url = {http://lmdvr.r-forge.r-project.org},
  }</citation>
</citations>
</tool>
